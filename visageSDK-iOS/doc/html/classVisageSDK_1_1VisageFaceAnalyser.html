<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>visageSDK: VisageSDK::VisageFaceAnalyser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">visageSDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>VisageSDK</b></li><li class="navelem"><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html">VisageFaceAnalyser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classVisageSDK_1_1VisageFaceAnalyser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">VisageSDK::VisageFaceAnalyser Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a> contains face analysis algorithms capable of estimating gender and emotion from frontal facial images (yaw between -20 and 20 degrees).  
 <a href="classVisageSDK_1_1VisageFaceAnalyser.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VisageFaceAnalyser_8h_source.html">VisageFaceAnalyser.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a11b2bff1ba5a647728dd10644d0bacd8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11b2bff1ba5a647728dd10644d0bacd8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a11b2bff1ba5a647728dd10644d0bacd8">VisageFaceAnalyser</a> ()</td></tr>
<tr class="memdesc:a11b2bff1ba5a647728dd10644d0bacd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:a11b2bff1ba5a647728dd10644d0bacd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b541c798ae77998ca3e370913773d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91b541c798ae77998ca3e370913773d4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a91b541c798ae77998ca3e370913773d4">~VisageFaceAnalyser</a> ()</td></tr>
<tr class="memdesc:a91b541c798ae77998ca3e370913773d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a91b541c798ae77998ca3e370913773d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69321d8630e1a96bce693f00713b85ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a69321d8630e1a96bce693f00713b85ec">init</a> (const char *dataPath)</td></tr>
<tr class="memdesc:a69321d8630e1a96bce693f00713b85ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a>.  <a href="#a69321d8630e1a96bce693f00713b85ec"></a><br/></td></tr>
<tr class="separator:a69321d8630e1a96bce693f00713b85ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9838ba11615f00d38546fd6c6d9ca006"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a9838ba11615f00d38546fd6c6d9ca006">estimateGender</a> (<a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *facedata)</td></tr>
<tr class="memdesc:a9838ba11615f00d38546fd6c6d9ca006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates gender from a facial image.  <a href="#a9838ba11615f00d38546fd6c6d9ca006"></a><br/></td></tr>
<tr class="separator:a9838ba11615f00d38546fd6c6d9ca006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d43a33dce9f204ff62c2cb85a244b58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a8d43a33dce9f204ff62c2cb85a244b58">estimateEmotion</a> (<a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *facedata, float *prob_estimates)</td></tr>
<tr class="memdesc:a8d43a33dce9f204ff62c2cb85a244b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates emotion from a facial image.  <a href="#a8d43a33dce9f204ff62c2cb85a244b58"></a><br/></td></tr>
<tr class="separator:a8d43a33dce9f204ff62c2cb85a244b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a> contains face analysis algorithms capable of estimating gender and emotion from frontal facial images (yaw between -20 and 20 degrees). </p>
<p>Before using <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a>, it must be initialized using the function <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a69321d8630e1a96bce693f00713b85ec" title="Initialise VisageFaceAnalyser.">init()</a>. After the initialization the following types of analysis can be used:</p>
<table class="doxtable">
<tr>
<td width="250"><b>ANALYSIS TYPE</b></td><td width="200"><b>FUNCTION</b> </td></tr>
<tr>
<td>gender estimation</td><td><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a9838ba11615f00d38546fd6c6d9ca006" title="Estimates gender from a facial image.">estimateGender()</a> </td></tr>
<tr>
<td>emotion estimation</td><td><a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a8d43a33dce9f204ff62c2cb85a244b58" title="Estimates emotion from a facial image.">estimateEmotion()</a> </td></tr>
</table>

<p>Definition at line <a class="el" href="VisageFaceAnalyser_8h_source.html#l00063">63</a> of file <a class="el" href="VisageFaceAnalyser_8h_source.html">VisageFaceAnalyser.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8d43a33dce9f204ff62c2cb85a244b58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceAnalyser::estimateEmotion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *&#160;</td>
          <td class="paramname"><em>facedata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>prob_estimates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimates emotion from a facial image. </p>
<p>The function returns estimated probabilities for basic emotions. Prior to using this function, it is neccessary to process the facial image or video frame using <a class="el" href="classVisageSDK_1_1VisageTracker2.html" title="VisageTracker2 is a face tracker capable of tracking the head pose, facial features and gaze in video...">VisageTracker2</a> or <a class="el" href="classVisageSDK_1_1VisageFeaturesDetector.html" title="Faces and facial features detector implementation.">VisageFeaturesDetector</a> and pass the obtained data to this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">facedata</td><td>needs to contain <a class="el" href="classVisageSDK_1_1FDP.html" title="Feature points of a face.">FDP</a> data and facedata-&gt;frame pointer to input image. <a class="el" href="classVisageSDK_1_1FDP.html" title="Feature points of a face.">FDP</a> data remains unchanged. </td></tr>
    <tr><td class="paramname">prob_estimates</td><td>is an array of 6 doubles. If successfull, the function will fill this array with estimated probabilities for emotions in this order: anger, disgust, fear, happiness, sadness and surprise. Each probability will have a value between 0 and 1. Sum of probabilites does not have to be 1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns 1 if estimation was successful.</dd></dl>
<p>See also: Facedata, <a class="el" href="classVisageSDK_1_1VisageTracker2.html" title="VisageTracker2 is a face tracker capable of tracking the head pose, facial features and gaze in video...">VisageTracker2</a>, VisageDetector </p>

</div>
</div>
<a class="anchor" id="a9838ba11615f00d38546fd6c6d9ca006"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceAnalyser::estimateGender </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVisageSDK_1_1FaceData.html">FaceData</a> *&#160;</td>
          <td class="paramname"><em>facedata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimates gender from a facial image. </p>
<p>The function returns 1 if estimated gender is male and 0 if it is a female. Prior to using this function, it is neccessary to process the facial image or video frame using <a class="el" href="classVisageSDK_1_1VisageTracker2.html" title="VisageTracker2 is a face tracker capable of tracking the head pose, facial features and gaze in video...">VisageTracker2</a> or <a class="el" href="classVisageSDK_1_1VisageFeaturesDetector.html" title="Faces and facial features detector implementation.">VisageFeaturesDetector</a> and pass the obtained data to this function.</p>
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">facedata</td><td>needs to contain <a class="el" href="classVisageSDK_1_1FDP.html" title="Feature points of a face.">FDP</a> data and facedata-&gt;frame pointer to input image. <a class="el" href="classVisageSDK_1_1FDP.html" title="Feature points of a face.">FDP</a> data remains unchanged. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns 0 if estimated gender is female, 1 if it is a male and -1 if it failed. </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a69321d8630e1a96bce693f00713b85ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VisageSDK::VisageFaceAnalyser::init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dataPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a>. </p>
<p>This function must be called before using <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a> by passing it a path to the folder containing the <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a> data files. Within the Visage|SDK package, this folder is Samples/data/bdtsdata/LBF/vfadata. When implementing applications, developers may copy this folder as part of their application. The path is given relative to the current working directory at the time of calling the <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a69321d8630e1a96bce693f00713b85ec" title="Initialise VisageFaceAnalyser.">init()</a> function. The <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a> data folder contains the following subfolders corresponding to the various types of analysis that can be performed:</p>
<ul>
<li>
gd: gender estimation </li>
<li>
ed: emotion estimation </li>
</ul>
<p>Note that it is not neccessary for all subfolders to be present, only the ones needed by the types of analysis that will be performed. For example, if only gender estimation will be performed, then only the gd folder is required.</p>
<p>The return value of the <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a69321d8630e1a96bce693f00713b85ec" title="Initialise VisageFaceAnalyser.">init()</a> function indicates which types of analysis have been successfully initialised. Subsqeuent attempt to use a type of analysis that was not initialized shall fail; for example, if only gd folder was present at initialization, attempt to use <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html#a8d43a33dce9f204ff62c2cb85a244b58" title="Estimates emotion from a facial image.">estimateEmotion()</a> shall fail.</p>
<p>The return value is a bitwise combination of flags indicating which types of analysis are successfully initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataPath</td><td>relative path from the working directory to the directory that contains <a class="el" href="classVisageSDK_1_1VisageFaceAnalyser.html" title="VisageFaceAnalyser contains face analysis algorithms capable of estimating gender and emotion from fr...">VisageFaceAnalyser</a> data files. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value of 0 indicates that no data files are found and no analysis will be possible. In such case, the placement of data files should be verified. A non-zero value indicates that one or more types of analysis are successfully initialized. The specific types of analysis that have been initialized are indicated by a bitwise combination of the following flags: VFA_GENDER, VFA_EMOTION. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="VisageFaceAnalyser_8h_source.html">VisageFaceAnalyser.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 20 2015 16:28:37 for visageSDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
